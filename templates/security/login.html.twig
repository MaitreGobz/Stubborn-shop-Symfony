{% extends 'base.html.twig' %}

{% block title %}Connexion à Stubborn{% endblock %}

{% block body %}

{% for label, messages in app.flashes %}
    {% for message in messages %}
        <div class="alert alert-{{ label }}">
            {{ message }}
        </div>
    {% endfor %}
{% endfor %}

<section class="login-card">
    <h1>Se connecter</h1>

    {% if error %}
        <div class="alert alert-danger">
            Identifiant ou mot de passe invalides.
        </div>
    {% endif %}

    <form action="{{ path('app_login') }}" method="post" class="login-form">
        <div class="form-group">
            <label for="username">Email :</label>
            <input type="text" id="username" value="{{ last_username }}" name="_username"  required>
        </div>
        <div class="form-group">
            <label for="password">Mot de passe :</label>
            <input type="password" id="password" name="_password"  required>
        </div>
        <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
        <button type="submit">Se connecter</button>
    </form>
    <p class="forgot-password"><a href="#" >Mot de passe oublié</a></p>
    <p>Pas encore inscrit ? <br> 
        <a href="{{ path('app_register') }}" class="register-link">Créer un compte</a>
    </p>
</section>
{% endblock %}